# 代码结构

## 代码简述

### prometheus sever基本功能
基本功能：
- discovery       服务发现
- scrape          拉取指标
- Local Storage   本地存储
- Query           查询
- Alert           告警
- remoteWrite     远端写入/远端存储
- ops tool        运维工具
- 其他

### 项目结构
```
prometheus
  ├── cmd                  程序入口
  │   ├── prometheus
  │   │    └── main.go     prometheus入口
  │   └── promtool
  │        └── main.go     promtool 入口
  ├── config               解析配置文件
  ├── discovery            服务发现模块
  │      ├── aws           aws服务发现模块
  │      ├── kubernetes    kubernetes服务发现模块
  │      ├── manager.go    
         ├── registry.go
  │      ....
  ├── model   
  ├── notifier              notifier 告警模块
  ├── plugins
  ├── prompb
  ├── promql  
  ├── rules                规则管理模块
  ├── scrape               拉取指标等相关
  ├── storage              存储相关 remote 和 local(tsdb)
  ├── tracing   
  ├── tsdb                 tsdb数据库
  └── util    

```