# 项目简述
## 代码版本
- 仓库地址: [https://github.com/prometheus/prometheus](https://github.com/prometheus/prometheus)
- commit: **efa34a5840661c29c2e362efa76bc3a70dccb335**
- version: [v2.47.0](https://github.com/prometheus/prometheus/commits/v2.47.0)
- 官方文档: https://prometheus.io/docs/prometheus/latest/getting_started/  

### 为何不选择LTS版本，而选择最新版本呢？
- Prometheus 小版本迭代周期约6周,更新周期快
- Prometheus LTS版本支持时长一年,只接受fixbug、安全性和文档的pr，再新功能
- Prometheus 建议通过升级版本的方式解决bug  https://prometheus.io/docs/introduction/release-cycle/#long-term-support

## 阅读环境
- vscode 
- docker(只是辅助工具，没有也可)


##  下载代码
```
git clone  git@github.com:prometheus/prometheus.git

# 代码版本
cd prometheus
git checkout  v2.47.0

# 依赖
go mod tidy
go mod vendor

```

## 手动编译安装
```
sudo  make build 
```


## 代码简述

### prometheus sever基本功能
基本功能：
- discovery       服务发现
- scrape          拉取指标
- Local Storage   本地存储
- Query           查询
- Alert           告警
- remoteWrite     远端写入/远端存储
- ops tool        运维工具
- 其他

### 项目结构
```
prometheus
  ├── cmd           程序入口
  ├── config        配置相关
  ├── discovery     服务发现相关
  ├── model   
  ├── notifier      
  ├── plugins
  ├── prompb
  ├── promql
  ├── rules
  ├── scrape        拉取指标等相关
  ├── storage       存储相关
  ├── tracing   
  ├── tsdb          tsdb数据库
  └── util    

```